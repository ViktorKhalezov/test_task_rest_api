# test_task_rest_api


## Описание проекта
Проект предоставляет собой RESTful API, позволяющий выполнять CRUD-операции по двум сущностям: Author (автор) и Book (книга).


## Описание предметной области
Предметная область включает в себя 2 сущности, связанные отношением OneToMany: Author (автор) и Book (книга). 
У одного автора может быть много книг, но у книги может быть только один автор.

Свойства сущности Author (автор):
- firstname (имя);
- lastname (фамилия);
- city (город);
- country (страна);
- age (возраст).

Свойства сущности Book (книга):
- title (название);
- price (цена);
- language (язык);
- genre (жанр);
- author (автор).

Автор может не иметь ни одной книги. Книга обязательно должна иметь автора. При удалении автора из базы данных удаляются все его книги. 
При удалении книги информация об авторе остается в БД даже, если у него не осталось ни одной книги.


## Использованные в проекте зависимости
- spring data jpa;
- spring web;
- spring validation;
- lombok;
- mapstruct;
- postgresql.


## Инструкция по запуску проекта
- скачать с github архив проекта;
- распаковать архив;
- открыть папку проекта из Intellij Idea;
- в файле application.yml поменять значения свойств url, username и password на значения для Вашей базы данных;
- проверить подключение к БД: View - Tool Windows - DataBase - Data sources - PostgreSQL - Test Connection 
(возможно необходимо будет создать новое соединение к БД: выбрать postgreSQL, ввести название БД, логин (username) и пароль (password));
- после проверки подключения к БД необходимо выполнить скрипты из файла ddl.sql, который находится в папке src/main/resources/static/db 
(если скрипты из файла ddl.sql не выполнились из Intellij Idea, данные скрипты можно выполнить с помощью программы pgAdmin 4 
(открыть QueryTool и скопировать туда скрипты из файла ddl.sql, после чего нажать кнопку execute (выполнить)); 
- запустить файл TestTaskRestApiApplication.java.


## Тестирование запросов REST API
- открыть программу Postman;
- импортировать в программу Postman коллекцию, которая находится в папке src/main/resources/static/postman
- выполнить сохраненные в коллекции запросы.
